onLoad();function onLoad(){var m=document.body;null!=m&&"undefined"!=typeof m?colorPicker():setTimeout(function(){onLoad()},0)}
function colorPicker(){function m(){function C(a){var b;if(void 0!==a)var d=a.pageX,c=a.pageY;if(y){a=I(h);b=I(D);a={x:d-a.x,y:c-a.y};B(b,a);J.style.left=b.x+a.x-2+"px";J.style.top=b.y+a.y-2+"px";var e=a;e.x*=100/b.w;e.y*=100/b.h;n=a.x;p=100-a.y}z&&(a=I(h),b=I(K),a={x:d-a.x,y:c-a.y},B(b,a),L.style.left=b.x+"px",L.style.top=a.y+"px",d=a,c=b,d.x*=359/c.w,d.y*=359/c.h,k=359-a.y,358<k&&(k=0));E&&(h.style.display="none",E=0);r(J,{top:(100-p)*s/100+"px",left:n*t/100+"px"});r(L,{top:(359-k)*M/359+"px"});
	T(D,k,t,s);a=F(k,n,p);a=m(a);g.setAttribute("value",a);u||(l.value=null===Z?a:"hsv("+parseInt(k)+","+parseInt(n)+","+parseInt(p)+")");U.style.backgroundColor=a;null!==$&&(d=70>p?100:0,d=35<n?100:d,d=79<p&&35<n&&36<k&&196>k?0:d,g.style.color=m(F(0,0,d)),g.style.backgroundColor=a)}function m(a){return"#"+R(a.r.toString(16))+R(a.g.toString(16))+R(a.b.toString(16))}function r(a,b){var d=a.style,c;for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c])}function v(a,b,d,c){var e;null===document.getElementById(b)?(a=
	document.createElement(a.toString()),a.id=b):a=document.getElementById(b);b=a.style;for(e in d)d.hasOwnProperty(e)&&(b[e]=d[e]);for(e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);return a}function B(a,b){0>b.x&&(b.x=0);b.x>a.w&&(b.x=a.w);0>b.y&&(b.y=0);b.y>a.h&&(b.y=a.h)}function I(a){return{x:a.offsetLeft,y:a.offsetTop,w:a.offsetWidth,h:a.offsetHeight}}function R(a){return 1==a.length?"0"+a:a}function V(a){a=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(a);return{r:parseInt(a[1],16),g:parseInt(a[2],
	16),b:parseInt(a[3],16)}}function W(){try{var a=V(l.value);w=S(a.r,a.g,a.b);k=w.h;n=w.s;p=w.v}catch(b){l.value=m(F(k,n,p))}}function T(a,b,d,c){var e;a=a.getContext("2d");e=a.createLinearGradient(0,0,0,c);for(var f=0;100>=f;f++){var g=F(b,f,100),x=F(b,100,f);e.addColorStop(0,"rgb("+g.r+","+g.g+","+g.b+")");e.addColorStop(1,"rgb("+x.r+","+x.g+","+x.b+")");a.fillStyle=e;a.fillRect(d/100*f,0,d/100+1,c)}}function F(a,b,d){var c,e,f;a=Math.max(0,Math.min(360,a));b=Math.max(0,Math.min(100,b));d=Math.max(0,
	Math.min(100,d));b/=100;d/=100;if(0==b)return c=b=d,{r:Math.round(255*c),g:Math.round(255*b),b:Math.round(255*d)};a/=60;c=Math.floor(a);e=a-c;a=d*(1-b);f=d*(1-b*e);e=d*(1-b*(1-e));switch(c){case 0:c=d;b=e;d=a;break;case 1:c=f;b=d;d=a;break;case 2:c=a;b=d;d=e;break;case 3:c=a;b=f;break;case 4:c=e;b=a;break;default:c=d,b=a,d=f}return{r:Math.round(255*c),g:Math.round(255*b),b:Math.round(255*d)}}function S(a,b,d){void 0===b&&(b=a.g,d=a.b,a=a.r);a/=255;b/=255;d/=255;var c=Math.min(a,b,d),e=Math.max(a,
	b,d),f=e-c,g=c=0,x,h;0!==f&&(g=f/e,x=((e-a)/6+f/2)/f,h=((e-b)/6+f/2)/f,f=((e-d)/6+f/2)/f,a===e?c=f-h:b===e?c=1/3+x-f:d===e&&(c=2/3+h-x),0>c&&(c+=1),1<c&&(c-=1));a=100*e;return{h:360*c,s:100*g,v:a}}var $=g.getAttribute("bgColor"),Z=g.getAttribute("hsvText"),q=g.getAttribute("value"),A=parseInt(g.getAttribute("cpWidth")),G=parseInt(g.getAttribute("cpHeight")),N=parseInt(g.getAttribute("cpX")),O=parseInt(g.getAttribute("cpY")),X=parseInt(g.getAttribute("cpXOff")),Y=parseInt(g.getAttribute("cpYOff")),
	P=A?A:100,Q=G?G:100,w=null===q?S(0,0,0):S(V(q)),t=parseInt(0.84*P),s=parseInt(0.84*Q),q=parseInt(0.14*P),M=s+1,A=t+1,G=function(a){var b=document.documentElement.scrollHeight?document.documentElement.scrollHeight:document.body.scrollHeight,d=document.documentElement.scrollWidth?document.documentElement.scrollWidth:document.body.scrollWidth,c;if(a.getBoundingClientRect){c=a.getBoundingClientRect();var e=document.body,f=document.documentElement,g=c.top+(window.pageYOffset||f.scrollTop||e.scrollTop)-
		(f.clientTop||e.clientTop||0);c={x:Math.round(c.left+(window.pageXOffset||f.scrollLeft||e.scrollLeft)-(f.clientLeft||e.clientLeft||0)),y:Math.round(g)}}else{c=a;for(f=e=0;c;)e+=parseFloat(c.offsetLeft),f+=parseFloat(c.offsetTop),c=c.offsetParent;c={x:Math.round(e),y:Math.round(f)}}c.h=a.offsetHeight;c.w=a.offsetWidth;a={};a.x=c.x;a.y=c.y+c.h;0>a.x&&(a.x=0);0>a.y&&(a.y=0);a.x+P>d&&(a.x=d-P);a.y+Q>b&&(a.y=b-Q);a.y<c.y&&(a.y=c.y-Q);return a}(g),N=N?N:G.x,O=O?O:G.y,k=w.h,n=w.s,p=w.v,H=0,y=0,z=0,u=0,E=
		0;h=v("div","srf",{display:"none",position:"absolute",left:N+(X?X:0)+"px",top:O+(Y?Y:0)+"px",cursor:"default",zIndex:16777271,"-webkit-user-select":"none"});var D=v("canvas","cnvSV",{position:"absolute",left:"0px",top:"0px",border:"1px solid black"},{height:s,width:t}),K=v("canvas","cnvH",{position:"absolute",left:A+"px",top:"0px",border:"1px solid black",boxShadow:"2px 2px 3px rgba(0,0,0,.2), 10px 10px 40px rgba(0,0,0,.1)"},{height:M,width:q}),U=v("div","sampleColor",{position:"absolute",width:q+
	"px",height:q+"px",top:s+2+"px",left:A+"px",border:"1px solid black",boxShadow:"2px 2px 3px rgba(0,0,0,.2), 10px 10px 40px rgba(0,0,0,.1)"}),l=v("input","inputColor",{fontFamily:"monospace",margin:"0",padding:"0",position:"absolute",border:"1px solid black",width:t+"px",height:q+"px",top:s+2+"px",left:"0px",textAlign:"center",boxShadow:"2px 2px 3px rgba(0,0,0,.2), 10px 10px 40px rgba(0,0,0,.1)","-webkit-user-select":"none"},{readOnly:1}),J=v("div","xSV",{position:"absolute",border:"1px solid white",
	width:"2px",height:"2px",top:(100-p)*s/100+"px",left:n*t/100+"px",boxShadow:"0 0 0 1px black",borderRadius:"50%"}),L=v("div","xH",{position:"absolute",top:(359-k)*M/359+"px",width:"0px",height:"0px",left:A+"px",marginLeft:q+2+"px",marginTop:"-5px",borderBottom:"5px solid transparent",borderLeft:"0px solid transparent",borderTop:"5px solid transparent",borderRight:"10px solid black"});(function(a,b,d,c,e){var f,g;a=a.getContext("2d");f=a.createLinearGradient(b,e,b,d);g=[[255,0,0],[255,255,0],[0,255,
	0],[0,255,255],[0,0,255],[255,0,255],[255,0,0]];for(var h=0;6>=h;h++)f.addColorStop(0.16666666666666666*h,"rgb("+g[h][0]+","+g[h][1]+","+g[h][2]+")");a.fillStyle=f;a.fillRect(b,d,c,e)})(K,0,0,q,M);T(D,0,t,s);document.body.appendChild(h);h.appendChild(D);h.appendChild(l);h.appendChild(K);h.appendChild(U);h.appendChild(J);h.appendChild(L);C();l.onclick=function(){l.readOnly=0};l.onfocus=function(){u=1};l.onblur=function(){u=0;l.readOnly=1;W()};document.onkeydown=function(a){13===a.keyCode&&(0==u&&(E=
	1,H=z=y=0),u=0,l.readOnly=1,W(),C());27===a.keyCode&&(E=1,H=z=y=0,C())};D.onmousedown=function(){y=1;u=0;l.readOnly=1};K.onmousedown=function(){z=1};l.onmousedown=function(){H=1};document.onmousedown=function(a){0==u&&0==y+z+H&&(E=1);C(a)};document.onmousemove=function(a){C(a)};document.onmouseup=function(){H=z=y=0}}for(var h,g,B=document.getElementsByClassName("colorPicker"),r=0;r<B.length;r++)B[r].addEventListener("click",function(r){g=r.target;m();void 0!==h&&(h.style.display="block")}),g=B[r],
	m()};